{"path":"01 数据结构和算法/期末考试/数据结构周末夜校2.pdf","text":"数据结构周末夜校 主讲人：谢滨冰 时间： 2025.06.07 Weekend evening classes for data structures courses 01 不 相 交 集 02 内 排 序 。 03 查 找 04 外 排 序 目录 05 其 他 重 点 数 据 结 构 第 一 部 分 不相交集 标 题 二 如 何 高 效 实 现 Kruskal算 法 求 最 小 生 成 树 的 Kruskal算 法 ： • 按 权 重 递 增 顺 序 考 虑 每 条 边 • 并 把 连 接 不 同 连 通 分 量 的 边 e = (u,v) 加 入 生 成 树 。 • 这 需 要 动 态 地 维 护 图 的 连 通 性 • 需 要 支 持 下 列 三 种 操 作 ： • （ 初 始 化 ） 初 始 化 一 个 无 向 图 G = (V,E) ， 其 中 E = ∅ （ 空 集 ） ， 即 每 个 顶 点 分 属 于 不 同 的 连 通 分 量 。 • （ 加 边 ） 在 图 中 加 入 一 条 边 (u,v) ： E ← E ∪ { (u,v) }。 • （ 连 通 性 查 询 ） 查 询 顶 点 u和 顶 点 v是 否 属 于 同 一 连 通 分 量 ， 即 查 询 两 顶 点 之 间 是 否 有 路 径 相 连 。 • 在 Kruskal算 法 中 ， 对 每 条 边 均 需 要 进 行 一 次 连 通 性 查 询 ， 因 此 m=|E|次 查 询 的 总 时 间 复 杂 度 为 O(nm)。 标 题 二 如 何 高 效 实 现 Kruskal算 法 Find操 作 只 需 找 到 要 查 询 的 元 素 x对 应 的 根 结 点 。 而 Union操 作 只 需 将 x和 y元 素 各 自 对 应 的 根 结 点 合 并 。 对 于 划 分 {{1, 2, 3, 4, 5}, {6, 7}, {8}}， 可 规 定 集 合 {1, 2, 3, 4, 5}代 表 元 素 为 1， 则 Find(2)=Find(3)=Find(4)=Find(5)=1。 Find、 Union的 操 作 时 间 复 杂 度 均 可 达 O(n) 按 秩 合 并 对 每 个 根 节 点 x， 定 义 其 秩 x.rank为 以 x为 根 的 树 的 高 度 减 一 特 别 地 ， 仅 由 单 个 结 点 构 成 的 树 的 根 结 点 秩 为 0。 在 这 种 情 况 下 ， 可 保 证 树 的 “ 平 衡 性 ” ： 深 度 为 l的 子 树 至 少 有 2l -1个 节 点 路 径 压 缩 ： 首 先 递 归 地 查 找 到 根 r， 之 后 逐 层 返 回 ， 并 将 路 径 上 所 有 结 点 的 父 结 点 均 设 为 r。 这 样 ， 下 次 查 找 这 条 路 径 上 的 结 点 时 只 需 O(1) 时 间 即 可 完 成 标 题 二 如 何 高 效 实 现 Kruskal算 法 第 二 部 分 内排序 标 题 二 内 排 序 本 学 期 一 共 学 了 7种 排 序 方 法 ， 包 括 :插 入 排 序 （ 折 半 插 入 ） 、 冒 泡 排 序 、 选 择 排 序 、 归 并 排 序 、 快 速 排 序 、 堆 排 序 、 希 尔 排 序 、 计 数 排 序 、 基 数 排 序 、 桶 排 序 。 标 题 二 希 尔 排 序 希 尔 排 序 又 称 缩 小 增 量 排 序 法 与 插 入 排 序 不 同 的 是 ， shell排 序 是 在 不 相 邻 的 记 录 之 间 进 行 比 较 与 交 换 观 察 ： n很 小 时 ， 或 基 本 有 序 时 排 序 速 度 较 快 基 本 原 理 • 利 用 插 入 排 序 的 最 佳 时 间 代 价 特 性 ， 先 对 所 有 记 录 按 增 量 进 行 分 组 ， 组 内 进 行 插 入 排 序 ； • 减 少 增 量 重 复 上 面 步 骤 直 至 增 量 为 1时 止 。 排 序 步 骤 ： • 先 给 定 一 组 严 格 递 减 的 正 整 数 增 量 d1, d2, …, dt， 且 取 dt = 1。 • 对 于 i =1 ,…,t ， 进 行 下 面 各 遍 的 处 理 ： 将 序 列 分 成 di组 ， 每 组 中 相 邻 元 素 的 下 标 相 差 di 对 每 组 元 素 使 用 插 入 排 序 标 题 二 希 尔 排 序标 题 二 快 速 排 序 快 速 排 序 基 本 思 想 ： 通 过 递 归 分 治 方 法 ， 基 于 轴 点 将 待 排 序 序 列 拆 分 成 两 个 子 序 列 并 分 别 排 序 ， 直 到 序 列 有 序 。 排 序 步 骤 ： ① 从 待 排 序 序 列 中 选 取 轴 点 。 ② 通 过 交 换 序 列 元 素 ， 将 待 排 序 序 列 拆 分 为 左 右 两 个 子 序 列 ， 左 子 序 列 元 素 小 于 等 于 轴 点 ， 右 子 序 列 元 素 大 于 等 于 轴 点 。 ③ 对 两 个 子 序 列 递 归 进 行 上 述 操 作 ， 直 到 子 序 列 元 素 个 数 小 于 等 于 1。 标 题 二 快 速 排 序标 题 二 快 速 排 序 时间复杂度： • 最 坏 时 间 复 杂 度 ： O(n2) • 平 均 时 间 复 杂 度 ： O(nlogn) 空间复杂度（ 递 归 栈 深 度 ） ： • 最 坏 空 间 复 杂 度 ： O(n) • 平 均 空 间 复 杂 度 ： O(logn) 快 速 排 序 是 不稳定排序。 标 题 二 归 并 排 序 核 心 思 路 ： 基 于 分 治 思 想 ， 将 两 个 或 两 个 以 上 的 有 序 序 列 合 并 为 一 个 新 的 有 序 序 列 。 归 并 次 序 ： 自 顶 向 下 ： 将 序 列 拆 分 直 到 有 序 ； 然 后 使 用 归 并 算 法 得 到 排 序 结 果 。 自 底 向 上 ： 将 序 列 看 成 多 条 有 序 子 序 列 ， 并 将 子 序 列 两 两 合 并 。 二 路 归 并 算 法 将 两 个 有 序 序 列 合 并 为 一 个 新 的 有 序 序 列 。 对 两 有 序 序 列 ， 分 别 取 出 这 两 个 序 列 中 键 值 最 小 的 项 ， 并 选 出 两 个 数 据 项 中 最 小 的 放 置 到 新 的 序 列 中 ； 循 环 上 述 动 作 ， 直 到 两 个 序 列 中 的 所 有 数 据 都 已 被 放 置 到 新 的 序 列 中 。 此 时 ， 新 的 序 列 即 为 排 序 结 果 。 对 于 长 度 分 别 为 n和 m的 有 序 序 列 ， 二 路 归 并 算 法 的 主 循 环 最 多 执 行 (n+m)次 ， 因 此 其 复 杂 度 为 O(n+m) 。 标 题 二 归 并 排 序标 题 二 归 并 排 序 由 于 二 路 归 并 算 法 的 复 杂 度 为 两 个 序 列 长 度 之 和 O(n+m) ， 因 此 我 们 分 析 每 个 元 素 至 多 会 被 二 路 归 并 算 法 调 用 几 次 。 自 顶 向 下 ： 递 归 的 深 度 每 多 一 层 ， 其 待 排 序 序 列 的 长 度 就 减 半 ； 同 时 ， 对 于 任 意 深 度 相 同 的 递 归 调 用 ， 它 们 所 覆 盖 的 元 素 不 相 交 。 因 此 ， 递 归 的 最 大 深 度 为 logn ， 且 每 层 递 归 最 多 覆 盖 n个 元 素 ， 其 时 间 复 杂 度 为 O(nlogn) 。 自 底 向 上 ： 其 外 循 环 的 最 大 循 环 次 数 为 logn ， 内 循 环 将 每 个 元 素 进 行 二 路 归 并 最 多 一 次 ， 因 此 复 杂 度 也 为 O(nlogn) 。 标 题 二 归 并 排 序 求 逆 序 对 数 量 ： 在 一 个 序 列 中 ， 两 个 元 素 ai和 aj逆 序 指 它 们 满 足 i < j和 ai > aj， 称 这 两 个 元 素 为 一 个 逆 序 对 标 题 二 归 并 排 序标 题 二 计 数 排 序 假 设 ： 假 设 n 个 输 入 元 素 的 每 一 个 都 是 0 到 k 的 一 个 整 数 。 基 本 思 想 ： 对 于 每 一 个 输 入 元 素 x， 确 定 小 于 x 的 元 素 个 数 ， 这 样 就 可 以 将 x 放 在 它 在 输 出 数 组 的 位 置 上 。 当 有 多 个 x 相 同 时 ， 我 们 统 计 相 同 x 的 数 量 ， 再 依 次 存 放 即 可 。 例 子 ： 9, 3, 5, 4, 9, 1, 2, 7, 8， 1， 3, 6, 5, 3, 4, 0, 10, 9, 7, 9 第 一 个 整 数 是 9， 那 么 数 组 下 标 为 9 的 元 素 加 1 第 二 个 整 数 是 3， 那 么 对 应 数 组 下 标 为 3的 元 素 加 1 按 照 这 样 的 规 律 继 续 遍 历 数 组 并 填 充 直 到 最 后 。 数 组 变 成 如 下 ： 标 题 二 计 数 排 序标 题 二 计 数 排 序 执 行 过 程 ： • 首 先 统 计 0~k间 的 每 个 整 数 出 现 的 次 数 ， 记 录 在 cnt数 组 中 ； • 然 后 计 算 cnt的 前 缀 和 ， 即 将 cnt[0]~cnt[x]的 和 记 录 在 cnt数 组 中 ， 该 值 对 应 于 关 键 码 x在 数 组 的 插 入 位 置 ； • 从 后 往 前 将 数 组 A的 每 个 元 素 x放 入 数 组 B的 cnt[x]位 置 ， 并 将 cnt[x]的 值 减 一 ； • 直 至 数 组 B被 填 满 ， 此 时 数 组 B即 为 排 好 序 的 数 组 时 间 复 杂 度 ： 统 计 小 于 等 于 每 个 元 素 的 数 的 数 量 ， 时 间 复 杂 度 为 O(n+k)； 第 9-13 行 根 据 cnt 将 元 素 放 至 正 确 位 置 ， 时 间 复 杂 度 为 O(n) ； 将 完 成 排 序 的 元 素 放 回 原 序 列 ， 时 间 复 杂 度 为 O(n)。 总 体 时 间 复 杂 度 为 O(n+k) 。 当 k 为 n的 常 数 c 倍 ， 即 k = cn 时 ， 计 数 排 序 的 时 间 复 杂 为 O(n)。 空 间 复 杂 度 ： 排 序 过 程 中 需 要 两 个 额 外 数 组 b 和 cnt。 故 空 间 复 杂 度 为 O(n+k) 。 标 题 二 桶 排 序 桶 排 序 是 特 殊 的 计 数 排 序 桶 排 序 ： 通 过 一 个 单 调 映 射 函 数 f 将 n 个 元 素 分 配 到 k 个 桶 中 ， 然 后 对 每 个 桶 中 的 元 素 进 行 排 序 （ 一 般 使 用 插 入 排 序 ） ， 最 后 从 这 k 个 桶 中 依 次 取 出 就 得 到 有 序 的 序 列 。 与 计 数 排 序 的 关 系 ： 计 数 排 序 可 以 看 成 映 射 函 数 为 f(x) = x， 桶 个 数 为 元 素 最 大 值 的 桶 排 序 。 此 时 ， 由 于 同 一 桶 内 的 元 素 大 小 均 相 等 ， 所 以 不 需 要 再 对 桶 内 元 素 排 序 ， 而 改 为 计 数 即 可 。 时 间 复 杂 度 ： 桶 排 序 的 效 率 主 要 取 决 于 两 个 因 素 ： 映 射 函 数 和 桶 的 数 量 。 如 果 映 射 函 数 不 能 把 元 素 较 均 匀 地 分 配 到 各 个 桶 ， 或 者 桶 的 数 量 很 少 ， 就 会 存 在 大 量 桶 内 排 序 的 代 价 。 假 设 映 射 函 数 把 元 素 均 匀 地 分 配 到 k 个 桶 ， 此 时 桶 排 序 的 平 均 时 间 复 杂 度 为 空 间 复 杂 度 ： 桶 排 序 的 空 间 复 杂 度 为 O(n+k) 。 标 题 二 基 数 排 序标 题 二 基 数 排 序标 题 二 基 数 排 序标 题 二 索 引 排 序 索 引 排 序 排 序 都 需 要 拷 贝 或 移 动 序 列 中 的 元 素 。 当 元 素 移 动 和 拷 贝 的 代 价 很 大 时 ， 需 要 尽 可 能 减 少 元 素 移 动 和 拷 贝 的 次 数 。 核 心 思 路 ： 创 建 一 个 索 引 序 列 idx， 在 排 序 时 使 用 原 序 列 元 素 进 行 比 较 ， 使 用 索 引 序 列 进 行 元 素 交 换 。 最 后 ， 算 法 会 给 出 排 序 后 的 索 引 序 列 。 第 三 部 分 查找 标 题 三 静 态 查 找 顺 序 查 找 标 题 三 静 态 查 找 二 分 查 找 （ 折 半 查 找 ） 适 用 条 件 ： 查 找 表 按 关 键 字 值 有 序 排 列 标 题 三 静 态 查 找标 题 三 静 态 查 找 索 引 的 构 建 ① 按 表 中 数 据 的 关 键 字 值 分 为 L块 ： R1， R2， …， RL， 满 足 第 Rk块 中 所 有 关 键 字 值 ≤第 Rk+1块 中 所 有 关 键 字 值 ， k=1， 2， …， L-1， 称 为 “ 分 块 有 序 ” （ 递 增 ） 或 第 Rk块 中 所 有 关 键 字 值 ≥第 Rk+1块 中 所 有 关 键 字 值 ， k=1， 2， …， L-1， 称 为 “ 分 块 有 序 ” （ 递 减 ） 。 ② 为 每 块 建 立 一 个 索 引 项 ， 包 含 以 下 内 容 ： a. 关 键 字 key： 该 块 最 大 的 关 键 字 值 。 b. 指 针 link： 该 块 第 一 条 记 录 在 表 中 的 位 置 。 ③ 将 所 有 索 引 项 组 成 索 引 表 。 索 引 查 找 ① 查 找 索 引 。 将 外 存 上 含 有 索 引 区 的 页 块 调 入 内 存 ， 根 据 索 引 表 的 关 键 字 值 查 找 记 录 所 在 块 ， 根 据 其 指 针 确 定 所 在 块 的 第 一 条 记 录 的 物 理 地 址 。 ② 查 找 数 据 。 将 含 有 该 数 据 的 页 块 调 入 内 存 ， 在 块 内 部 根 据 关 键 字 值 查 找 记 录 的 详 细 信 息 。 标 题 三 静 态 查 找标 题 三 二 叉 查 找 树 二 叉 查 找 树 （ BST） 1. 定 义 二 叉 查 找 树 或 者 是 一 棵 空 树 ； 或 者 是 具 有 如 下 特 性 的 二 叉 树 ： 若 根 结 点 的 左 子 树 不 空 ， 则 左 子 树 上 所 有 结 点 的 值 均 小 于 根 结 点 的 值 ； 若 根 结 点 的 右 子 树 不 空 ， 则 右 子 树 上 所 有 结 点 的 值 均 大 于 根 结 点 的 值 ； 左 、 右 子 树 本 身 也 是 一 棵 二 叉 查 找 树 任 何 二 叉 查 找 树 的 中 序 遍 历 序 列 都 是 一 个 有 序 序 列 2. 查 找 在 二 叉 查 找 树 中 查 找 关 键 字 值 为 key的 结 点 ， 过 程 如 下 ： ① 若 二 叉 查 找 树 为 空 ， 则 查 找 失 败 ； ② 若 二 叉 查 找 树 非 空 ， 比 较 key值 和 根 结 点 关 键 字 值 的 大 小 ， l 如 果 相 等 ， 则 查 找 成 功 ; l 如 果 Key小 于 根 结 点 的 值 ， 在 根 的 左 子 树 继 续 查 找 ， 转 步 骤 ① ； l 如 果 Key大 于 根 结 点 的 值 ， 在 根 的 右 子 树 继 续 查 找 ， 转 步 骤 ① 。 3. 插 入 标 题 三 二 叉 查 找 树 4.删 除 删 除 可 分 三 种 情 况 讨 论 ： （ 1） 被 删 除 的 结 点 是 叶 子 直 接 删 ， 删 除 之 后 要 修 改 其 父 结 点 指 针 ， 即 置 为 NULL （ 2） 被 删 除 的 结 点 只 有 左 子 树 或 者 只 有 右 子 树 让 被 删 除 节 点 的 父 节 点 指 向 被 删 除 节 点 的 子 节 点 （ 3） 被 删 除 的 结 点 既 有 左 子 树 ， 也 有 右 子 树 用 被 删 除 结 点 的 右 子 树 的 最 小 元 素 或 者 左 子 树 的 最 大 元 素 替 代 被 删 除 结 点 。 标 题 三 二 叉 查 找 树 5.性 能 对 于 一 棵 特 定 的 二 叉 排 序 树 ， 均 可 按 照 平 均 查 找 长 度 的 定 义 来 求 它 的 ASL 值 ， n 个 关 键 字 ， 由 于 查 找 顺 序 不 同 可 构 造 出 不 同 形 态 的 多 棵 二 叉 排 序 树 ， 其 平 均 查 找 长 度 的 值 不 同 ， 甚 至 可 能 差 别 很 大 。 标 题 三 二 叉 查 找 树标 题 三 AVL树 AVL树 或 者 是 一 棵 空 树 ， 或 者 是 具 有 下 列 性 质 的 二 叉 查 找 树 ： 左 、 右 子 树 都 是 平 衡 二 叉 树 ； 左 、 右 子 树 的 高 度 差 绝 对 值 不 超 过 1。 结 点 的 平 衡 因 子 =左 子 树 高 度 -右 子 树 高 度 左 旋 ： 向 左 旋 转 ， 冲 突 的 左 孩 变 右 孩 右 旋 ： 向 右 旋 转 ， 冲 突 的 右 孩 变 左 孩 LL型 ： 失 衡 节 点 右 旋 RR型 ： 失 衡 节 点 左 旋 LR型 ： 左 旋 左 孩 子 ， 然 后 右 旋 失 衡 节 点 RL型 ： 右 旋 右 孩 子 ， 然 后 左 旋 失 衡 节 点 标 题 三 AVL树 左 旋 ： 向 左 旋 转 ， 冲 突 的 左 孩 变 右 孩 右 旋 ： 向 右 旋 转 ， 冲 突 的 右 孩 变 左 孩 LL型 ： 失 衡 节 点 右 旋 RR型 ： 失 衡 节 点 左 旋 LR型 ： 左 旋 左 孩 子 ， 然 后 右 旋 失 衡 节 点 RL型 ： 右 旋 右 孩 子 ， 然 后 左 旋 失 衡 节 点 标 题 三 散 列 查 找 哈 希 法 （ 散 列 法 、 杂 凑 法 ） ： 不 通 过 比 较 ， 直 接 在 关 键 字 和 存 储 地 址 之 间 建 立 映 射 关 系 ， 每 次 查 找 可 通 过 关 键 字 值 直 接 定 位 到 记 录 所 在 的 位 置 。 按 这 种 方 法 建 立 的 查 找 表 称 为 散 列 表 ， 这 个 映 射 关 系 称 为 散 列 函 数 。 常 见 的 散 列 函 数 构 造 方 法 有 ： 直 接 地 址 存 储 法 数 字 分 析 法 平 方 取 中 法 折 叠 法 除 留 余 数 法 随 机 数 法 冲 突 处 理 ： 为 出 现 散 列 地 址 冲 突 的 关 键 字 寻 找 下 一 个 散 列 地 址 。 常 见 的 冲 突 处 理 方 法 有 ： 开 放 地 址 法 再 散 列 法 链 地 址 法 公 共 溢 出 区 法 标 题 三 散 列 查 找 第 三 部 分 外排序 标 题 四 胜 者 树 为 什 么 要 使 用 外 部 排 序 ? 外 部 排 序 是 用 于 对 超 出 计 算 机 内 存 容 量 的 大 型 数 据 集 进 行 排 序 的 一 种 算 法 。 在 排 序 过 程 中 ， 需 要 将 数 据 集 分 成 多 个 较 小 的 子 集 ， 并 在 内 存 中 对 每 个 子 集 进 行 排 序 ， 然 后 再 将 排 序 后 的 子 集 合 并 起 来 。 这 种 算 法 通 常 会 利 用 硬 盘 等 外 部 存 储 设 备 来 协 助 处 理 数 据 ， 因 此 被 称 为 “ 外 部 排 序 ” 。 胜 者 树 满 足 下 列 性 质 ： ① 胜 者 树 一 棵 完 全 二 叉 树 。 其 中 的 叶 结 点 是 要 排 序 的 元 素 ， 非 叶 结 点 是 两 个 子 结 点 中 胜 者 的 代 表 。 ② 根 节 点 代 表 着 所 有 元 素 中 的 胜 者 。 每 个 叶 子 节 点 相 当 于 一 个 选 手 ， 每 个 中 间 节 点 相 当 于 一 场 比 赛 ， 每 一 层 相 当 于 一 轮 比 赛 。 胜 者 树 的 一 个 优 点 是 ， 如 果 一 个 选 手 的 值 改 变 了 ， 可 以 很 容 易 地 修 改 这 棵 胜 者 树 。 只 需 要 沿 着 从 该 结 点 到 根 结 点 的 路 径 修 改 这 棵 二 叉 树 ， 而 不 必 改 变 其 他 比 赛 的 结 果 。 标 题 二 胜 者 树 在 下 一 次 输 出 第 二 小 的 数 字 时 候 ， 只 需 要 把 1 所 在 的 数 组 里 面 的 元 素 加 进 去 ， 然 后 从 叶 子 节 点 到 根 节 点 一 直 比 较 得 出 第 二 小 的 值 ， 这 样 就 减 少 了 很 多 次 无 用 的 比 较 。 有 序 部 分 ： 1 在 下 一 次 输 出 第 三 小 的 数 字 时 候 ， 只 需 要 把 2 所 在 的 数 组 里 面 的 元 素 加 进 去 ， 然 后 从 叶 子 节 点 到 根 节 点 一 直 比 较 得 出 第 三 小 的 值 ， 这 样 就 减 少 了 很 多 次 无 用 的 比 较 。 有 序 部 分 ： 1 2 标 题 二 胜 者 树 在下一次输出第四小的数字时候，只需要把 2 所在的数组里面的元素加进去，然后从叶 子节点到根节点一直比较得出第四小的值， 这样就减少了很多次无用的比较。 有序部分：1 2 2 有序部分：1 2 2 3 以此类推，一次可以排好一个数字 ······ 标 题 四 胜 者 树 时 间 复 杂 度 • 初 始 化 k路 归 并 的 胜 者 树 ： O(k) • 读 入 新 值 并 重 构 胜 者 树 • 沿 着 从 L(i)到 根 的 路 径 进 行 更 新 ， O(logk) • n个 元 素 的 k路 归 并 ： O(nlogk) • 总 时 间 为 ： O(k+nlogk) 败 者 树 是 胜 者 树 的 一 种 变 体 • 在 败 者 树 中 ， 父 节 点 B[i]记 录 其 左 右 子 节 点 进 行 比 赛 的 败 者 ， 而 让 获 胜 者 去 参 加 更 高 阶 段 的 比 赛 • 新 增 根 节 点 B[0]， 来 记 录 整 个 比 赛 的 全 局 胜 者 与 胜 者 树 不 同 ， 只 需 当 前 结 点 的 胜 者 与 父 节 点 （ 败 者 ） 进 行 比 较 ， 无 需 与 兄 弟 结 点 进 行 比 较 降 低 了 重 构 的 开 销 标 题 四 败 者 树 第 三 部 分 其他重点 数据结构 标 题 四 其 他 重 点 数 据 结 构 红 黑 树 线 段 树 B/B+树 认 准 B站 up主 蓝 不 过 海 呀 谢 谢 观 看 thank you for watching","libVersion":"0.5.0","langs":""}